name: formualizer-dev
metadata:
  org: coltec
  project: formualizer
  environment: dev
  description: "Main developer workspace for the Formualizer engine"
  tags:
    - rust
    - open-source
version: 1.0.0
devcontainer:
  image:
    name: ghcr.io/psu3d0/coltec-codespace:1.0-base-dind-net
  workspace_mount: "source=${localWorkspaceFolder},target=/workspace,type=bind"
  run_args:
    - --cap-add=SYS_PTRACE
    - --security-opt=seccomp=unconfined
  mounts:
    - source: formualizer-dev-home
      target: /home/vscode
      type: volume
  lifecycle:
    post_create:
      - ./.devcontainer/scripts/post-create.sh
    post_start:
      - ./.devcontainer/scripts/post-start.sh
  customizations:
    extensions:
      recommended:
        - ms-azuretools.vscode-docker
        - rust-lang.rust-analyzer
        - tamasfe.even-better-toml
    settings:
      values:
        terminal.integrated.defaultProfile.linux: tmux
        files.trimTrailingWhitespace: true

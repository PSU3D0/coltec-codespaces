[supervisord]
nodaemon=false
logfile=/workspace/.devcontainer/logs/supervisord.log
pidfile=/workspace/.devcontainer/supervisord.pid

[program:sync-daemon]
command=python3 /workspace/.devcontainer/scripts/sync_daemon.py /workspace/.devcontainer/workspace-spec.yaml
user=vscode
autostart=true
autorestart=true
startretries=3
stderr_logfile=/workspace/.devcontainer/logs/sync-daemon.err.log
stdout_logfile=/workspace/.devcontainer/logs/sync-daemon.out.log
environment=PYTHONUNBUFFERED=1

[program:tailscale]
command=/usr/sbin/tailscaled --tun=userspace-networking --socks5-server=localhost:1055 --outbound-http-proxy-listen=localhost:1055
autostart=true
autorestart=true
startretries=3
user=root
stderr_logfile=/workspace/.devcontainer/logs/tailscale.err.log
stdout_logfile=/workspace/.devcontainer/logs/tailscale.out.log
